# !/bin/bash
# OSDiscovery 
# Audit lab 3
# tool to find an OS of a remote host

for i in $(cat < "$1");do
    if [-z "$i"];then
        echo "empty"
    else
    TTLWin="ttl=128"
    TTLFBSD="ttl=64"
    TTLLin="ttl=255"
    result=$(ping $i -c 1 )
    echo $result

    if [[$result = *"$TTLWin"*]];then
        echo "Windows"

    fi
    if [[$result= *"$TTLLin"*];then
        echo "Linux"

    fi
    if [[$result = *"$TTLFBSD"*]];then
        echo "freeBSD"
    fi
    fi
done

